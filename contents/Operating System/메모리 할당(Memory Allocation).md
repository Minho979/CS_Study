# 메모리 할당(Memory Allocation)
운영체제가 새 프로세스를 실행시키거나 실행중인 프로세스가 메모리를 필요로 할 때 물리 메모리를 할당하는 것으로 운영체제 커널에 의해 이루어진다.  
방식에는 [연속 메모리 할당(Contiguous Memory Allocation)](#연속-메모리-할당Contiguous-Memory-Allocation)과 [분할 메모리 할당(Non-contiguous Memory Allocation)](#분할-메모리-할당Non-contiguous-Memory-Allocation)이 있다.

# 연속 메모리 할당(Contiguous Memory Allocation)
- 초기 컴퓨터 시스템의 메모리 관리 기법으로 프로세스 1개에 연속된 메모리 블록을 할당하는 기법이다. 
- 프로세스에 하나의 연속된 메모리를 할당하므로 메모리 할당의 유연성이 부족하다. 
- 프로그램이 메모리보다 큰 경우 실행이 불가능하므로 프로그램을 수정하거나 작은 모듈로 구성해야 한다.

## 연속 메모리 할당 방식
- [단일 프로그래밍 환경의 연속 메모리 할당](#단일-프로그래밍-환경의-연속-메모리-할당)
- [다중 프로그래밍 환경의 연속 메모리 할당](#다중-프로그래밍-환경의-연속-메모리-할당)
  - [고정 분할 다중 프로그래밍](#고정-분할-다중-프로그래밍)
  - [가변 분할 다중 프로그래밍](#가변-분할-다중-프로그래밍)
- [버디 시스템](#버디-시스템)
## 단일 프로그래밍 환경의 연속 메모리 할당
- 사용자 프로세스가 1개인 경우이다.
- 메모리 영역을 운영체제를 위한 공간과 사용자 프로그램을 위한 공간으로 구분한다.
- 한 번에 한 프로세스만 메모리 사용이 가능하다.

#### 구조

#### 메모리 보호 기법
사용자 프로세스가 운영체제 영역에 접근하는 것을 막기 위해 프로세서 내에 경계 레지스터(boundart register)를 두고, 사용자 프로세스가 메모리를 참조할 때마다 경계 레지스터로 주소를 검사한다. \

## 다중 프로그래밍 환경의 연속 메모리 할당
사용자 프로세스가 메모리에 여러 개가 적재된다.
### 고정 분할 다중 프로그래밍
- 메모리를 여러 개의 고정된 크기로 분할로 나누고, 각 분할에 프로세스에 하나씩 할당하는 방법이다.

#### 구조 
- 각 영역별로 독립된 큐가 있는 경우
- 통합된 대기 큐가 있는 경우

#### 메모리 보호 기법
- 프로세서가 생성한 모든 주소를 기준 레지스터, 한계 레지스터로 검사하여 다른 사용자 프로그램과 운영체제를 보호한다. 
- 기준 레지스터 한계 레지스트를 사용하여 분할된 영역을 보호한다.
  - 기준 레지스터(base register): 분할 시작 물리 메모리 주소
  - 한계 레지스터(limit register): 분할의 크기

#### 성능에 영향을 미치는 결정 사항
- 분할 영역의 개수와 크기 결정
- 프로세스를 어느 영역에 배치하는 결정

#### 단점 
- 고정된 분할보다 큰 프로세스는 실행이 불가능하다.
- 내부 단편화(internal fragmentation) 문제가 발생한다.
  - 내부 단편화(internal fragmentation): 할당받은 공간보다 프로세스가 더 작으면, 낭비되는 메모리가 생기는 현상
  - 예)

### 가변 분할 다중 프로그래밍

## 버디 시스템
- 고정 분할과 가변 분할의 단편화 현상을 해결하는 방법
- 큰 버퍼 들을 요청에 맞게 이등분하여 작은 버퍼들을 얻고, 가능할 때마다 이등분 되었던 인접한 빈 버퍼들을 합치는 과정을 반복한다.
- 이 때, 한 버퍼를 나누어 얻은 두 버퍼를 서로의 버디라고 한다.  

# 분할 메모리 할당(Non-contiguous Memory Allocation) 


> ⬆️:[Top](#메모리-할당Memory-Allocation)
> ⬅️:[Back](https://github.com/Minho979/CS_Study/blob/main/README.md#%EF%B8%8F-Operating-System)
> 💁:[Home](https://github.com/Minho979/CS_Study/blob/main/README.md)
> - Reference
> - [구현회. 운영체제-그림으로 배우는 구조와 원리, 개정3판. 한빛아카데미]
