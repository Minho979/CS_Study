# 집합의 처리
해당 파트에서는 상호배타적 집합(disjoint set)만을 대상으로 다루기에 교집합 연산은 다루지 않는다.

### 상호배타적 집합 지원 연산 (상호배타적 집합 처리에 필요한 작업)
- Make-Set(x): 원소 x로만 이루어진 집합 생성
- Find-Set(x): 원소 x가 속한 집합을 알아냄
- Union(x, y): 원소 x가 속한 집합과 y가 속한 집합의 합집합을 구함

## 연결리스트(LinkedList)를 이용한 집합의 처리
### 개념
- 각 원소 당 하나의 노드를 만들고, 같은 집합에 속한 원소들을 하나의 연결리스트로 관리
  - 집합의 대표 원소 = Linked List의 맨 앞의 원소
  - 마지막 원소를 가리키는 변수 tail을 두어 Union에 이용
  - 예시 {a, b, c, d}

    ![예시]()

### 노드 구조 
![노드사진]()

### 원소가 하나인 집합
- 원소가 하나이기에 대표 원소 링크를 자신을 가리키고 있음

![예시]()

#### Make-Set(x)
1. 노드 하나를 만들어 원소 x를 저장
2. 대표 원소 링크는 자신을 가리키도록 설정
3. 다음 원소가 없으므로 다음 원소 링크는 NIL
- 수행시간은 O(1)

### 원소가 다수인 집합
- 원소가 여러개이기에 모든 원소의 대표 링크는 첫 원소로 향하며, 마지막 원소를 제외하고 다음 원소 링크는 다음 원소의 주소를 가리킴

#### Find-Set()
- Find-Set 연산은 탐색이 아닌 속한 집합을 알아내는 것
- 구성 요소는 알고 있으며 같은 그룹에 속하는 연산인지 확인하는 정도임
- 수행 시간은 O(1)

![예시]()

Find-Set(b) : 원소 b가 속한 집합을 알아냄 → 대표 원소 a
Find-Set(e): 원소 e가 속한 집합을 알아냄 → 대표 원소 d
Find-Set(g): 원소 g가 속한 집합을 알아냄 → 대표 원소 d

#### Union()
- 연산 수행 시 먼저 Find-Set 연산을 통해 각 원소가 속해있는 집합의 대표 원소를 알아낸 후, 한 집합을 다른 집합의 뒤에 붙임

**Weighted Union**
- 무게를 고려한 Union으로 두 집합의 합집합을 구할 때 큰 집합 뒤에 작은 집합을 붙이는 것
  - 대표 원소를 가리키는 링크 갱신 작업을 최소화

![예시]()

#### 수행 시간
Linked List로 표현한 배타적 집합에서 Weighted Union을 사용할 때, m번의 Make-Set, Union, Find-Set 연산 중 n번이 Make-Set이라면 이들의 총 수행시간은 $O(m + nlogn)$
- Make-Set이 n번 일어났기에 원소 수는 n
- Make-Set, Find-Set은 각각 $O(1)$으로 모두 더해도 $O(m)$
- Union에서 '임의의 원소 x에 대해 포인터 갱신 수 $≤ ⌈logn⌉$
  - x가 속한 집합의 댜표 원소 갱신이 일어날 때마다 $1 → 2 → 2^2 → 2^3 →...$ $O(logn)$ 이상의 비율로 커진다
    → 총 대표 원소 갱신 수 $≤ n*⌈logn⌉$
- 전체 수행시간은 Make + Find + Union의 합으로 $O(m + nlogn)$

## 트리(Tree)를 이용한 집합의 처리
### 개념
- 각 원소 당 하나의 노드를 만들고, 같은 집합에 속한 원소들을 하나의 트리로 관리
  - 일반적인 트리와 반대로 child가 parent를 가리키는 구조를 가짐
  - 집합의 대표 원소 = 트리의 루트
  - 예시 {a, b, c, d, e}

    ![예시]()

### 노드 구조
![노드사진]()

### 원소가 하나인 집합
- 원소가 하나이기에 부모 원소 링크를 자신을 가리키고 있음

![예시]()

#### Make-Set(x)
1. 노드를 하나 만들어 원소 x를 저장
2. 부모 원소 링크는 자신을 가리키도록 설정
- 수행 시간은 O(h)

### 원소가 다수인 집합
- 각 원소는 부모 링크를 상위 레벨의 원소에 연결하고 루트 노드는 자신을 가리킴

#### Find-Set()
![예시]()

Find-Set(a): 원소 a가 속한 집합을 알아냄 → 대표 원소 c
Find-Set(e): 원소 e가 속한 집합을 알아냄 → 대표 원소 e
Find-Set(g): 원소 g가 속한 집합을 알아냄 → 대표 원소 e

#### Union()
![예시]()

> ⬆️:[Top](#집합의-처리)
> ⬅️:[Back](https://github.com/Minho979/CS_Study/blob/main/README.md#%EF%B8%8F-Algorithm)
> 💁:[Home](https://github.com/Minho979/CS_Study/blob/main/README.md)
> - Reference
> - [문병로. 쉽게 배우는 알고리즘. 한빛아카데미]
