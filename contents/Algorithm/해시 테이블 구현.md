# í•´ì‹œ í…Œì´ë¸”
## ê°œë…
- [í•´ì‹œ(Hash)](<https://github.com/Minho979/CS_Study/blob/main/contents/Data%20Structure/Hash.md>)

## êµ¬í˜„ ì½”ë“œ
- í•´ì‹œ í…Œì´ë¸” êµ¬í˜„ì€ ì¶©ëŒ ì²˜ë¦¬ ë°©ì‹ì— ë”°ë¼ ë‚˜ë‰œë‹¤
  - Separate chaining
  - Open addressing 

### Separate chaining
``` java
import java.util.LinkedList;

public class HashTable {
	
	public static void main(String[] args) {
		ChainingHashTable cht = new ChainingHashTable(3);
		
		// ì‚½ì… 
		cht.put("Kim", "Min Ho");
		cht.put("github", "https://github.com/Minho979");
		cht.put("Study", "CS_Study");
		cht.put("Date", "2023.10.27");
		
		// ë®ì–´ì“°ê¸° 
		cht.put("Study", "Algorithm Study");
		
		System.out.println(cht.get("Kim"));
		System.out.println(cht.get("github"));
		System.out.println(cht.get("Study"));
		System.out.println(cht.get("Date"));
		
		// ì—†ëŠ” ì›ì†Œ 
		System.out.println(cht.get("test"));
		
		// ì ì¬ìœ¨ 
		System.out.println("load factor = " + cht.getLoadFactor());
		
		// ì ì¬ ìƒí™© 
		cht.printTable();
	}

}

// ì¶©ëŒì„ Chaining ë°©ì‹ìœ¼ë¡œ í•´ê²°í•˜ëŠ” HashTable
class ChainingHashTable {
	
	// ì €ì¥í•  ë°ì´í„°ë¥¼ ë‹´ëŠ” í´ë˜ìŠ¤ 
	class Node {
		String key;		// ê²€ìƒ‰ 
		String value;	// ê²°ê³¼ 
		
		// ìƒì„±ì 
		public Node(String key, String value) {
			this.key = key;
			this.value = value;
		}
		
		public String getKey() {
			return key;
		}
		
		public void setKey() {
			this.key = key;
		}
		
		public String getValue() {
			return value;
		}
		
		public void setValue() {
			this.value = value;
		}
	}
	
	private LinkedList<Node>[] table;
	private int size;	// í…Œì´ë¸” í¬ê¸° 
	private int n;		// ì›ì†Œ ìˆ˜ 
	
	// í•´ì‹œ í…Œì´ë¸” ë°°ì—´ í¬ê¸°ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ í•´ì‹œí…Œì´ë¸” ìƒì„± 
	public ChainingHashTable(int size) {
		table = new LinkedList[size];
		n = 0;
		this.size = size;
	}
	
	/*
	 í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ í•¨ìˆ˜
	 keyë¥¼ ë°›ì•„ í•´ì‹œ ê°’ìœ¼ë¡œ ë³€í™˜ 
	 */
	private int hash(String key) {
		int hash = 0;
		
		// í‚¤ ê°’ì˜ ì•„ìŠ¤í‚¤ ì½”ë“œë¥¼ ê°€ì ¸ì™€ ëª¨ë‘ ë”í•¨ O(1)
		for(char c: key.toCharArray()) {
			hash += c;
		}
		return hash;
	}
	 // í•´ì‹œë¥¼ LinkedList ì¸ë±ìŠ¤ë¡œ ë³€í™˜ O(1)
	private int convertToIndex(int hash) {
		return hash % size;
	}
	
	// ë°ì´í„° ì‚½ì… ë©”ì†Œë“œ O(1)
	public void put(String key, String value) {
		int hash = hash(key);
		int idx = convertToIndex(hash);
		
		System.out.println(key +", hash("+ hash +"), index(" + idx + ")");
		
		/*
		 ì„ ì–¸í•œ list ë°°ì—´ì—ì„œ indexë¡œ LinkedListë¥¼ ì°¾ê³ 
		 nullì¸ ê²½ìš° ìƒˆë¡œìš´ LinkedList ìƒì„± í›„ 
		 í•´ë‹¹ indexì˜ ë°°ì—´ì— í• ë‹¹  
		 */
		LinkedList<Node> list = table[idx];
		if(list == null) {
			list = new LinkedList<Node>();
			table[idx] = list;
		}
		
		/*
		 Nodeë¥¼ ì°¾ì•„ null ì´ë¼ë©´ keyì— í•´ë‹¹í•˜ëŠ” valueê°€ ì—†ê¸°ì— 
		 LinkedList ë§ˆì§€ë§‰ ìœ„ì¹˜ì— Nodeë¥¼ ë§Œë“¤ì–´ ì €ì¥ 
		 valueê°€ ìˆë‹¤ë©´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ë®ì–´ì“´ë‹¤ 
		 */
		Node node = searchKey(list, key);
		if (node == null) {
			list.addLast(new Node(key, value));
			n++; // ì‚½ì… í›„ ì›ì†Œ ìˆ˜ ì¹´ìš´íŠ¸ 
		}
		else {
			node.value = value;
		}
				
	}
	
	// ì ì¬ìœ¨ ê³„ì‚° 
	public double getLoadFactor() {
		return (double) n / size;
	}
	
	// í‚¤ ê°’ì„ ì´ìš©í•´ í•´ë‹¹ ì¸ë±ìŠ¤ì˜ LinkedListë¥¼ ìˆœì°¨ íƒìƒ‰í•˜ì—¬ ê°’ ë¦¬í„´ 
	public String get(String key) {
		int hash = hash(key);
		int idx = convertToIndex(hash);
		LinkedList<Node> list = table[idx];
		for(Node n: list) {
			if (n.getKey().equals(key)) {
				return n.getValue();
			}
		}
		return null;

	}
	
	// ì…ë ¥ ë°›ì€ keyë¡œ LinkedListì—ì„œ Nodeë¥¼ ì°¾ëŠ” ë©”ì†Œë“œ 
	private Node searchKey(LinkedList<Node> list, String key) {
		if (list == null) return null;
		
		for (Node n : list) {
			if (n.key.equals(key)) {
				return n;
			}
		}
		return null;
	}
	
	// key ê°’ì˜ ì‚½ì… ìœ„ì¹˜ í™•ì¸ ë©”ì†Œë“œ 
	public void printTable() {
		for (int i = 0; i < table.length; i++) {
			System.out.print("table[" + i + "] = ");
			LinkedList<Node> temp = table[i];
			try {
				for (Node t : temp) {
					System.out.print(t.getKey() + " ");
				}
				System.out.println();				
			}catch (NullPointerException e){
				System.out.println();
			}
		}
	}
}

```

> â¬†ï¸:[Top](#í•´ì‹œ-í…Œì´ë¸”)
> â¬…ï¸:[Back](https://github.com/Minho979/CS_Study/blob/main/README.md#%EF%B8%8F-Algorithm)
> ğŸ’:[Home](https://github.com/Minho979/CS_Study/blob/main/README.md)
> - Reference
> - [ë¬¸ë³‘ë¡œ. ì‰½ê²Œ ë°°ìš°ëŠ” ì•Œê³ ë¦¬ì¦˜. í•œë¹›ì•„ì¹´ë°ë¯¸]
> - [[HashTable] JAVAë¡œ ê°„ë‹¨íˆ êµ¬í˜„í•´ë³´ë©° HashTableì„ ì•Œì•„ë³´ì!](https://gracelove91.tistory.com/99)
> - [í•´ì‹œí…Œì´ë¸”ì´ë€? Hash Table êµ¬í˜„ Java](https://beccacatcheserrors.tistory.com/37)
